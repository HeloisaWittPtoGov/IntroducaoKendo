<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

  <link href="img/icons/pg.favicon.png" rel="shortcut icon">

  <link href="css/pg.kendo.common.min.css" rel="stylesheet">
  <link href="css/pg.kendo.blueopal.min.css" rel="stylesheet">
  <link href="css/pg.kendo.blueopal.mobile.min.css" rel="stylesheet">
  <link href="css/pg.kendo.colors.min.css" rel="stylesheet">
  <link href="css/pg.icons.css" rel="stylesheet">
  <link href="css/pg.libFrontbox.css" rel="stylesheet">
  <link href="css/pg.multiple-select.css" rel="stylesheet">
  <link href="css/pg.loading.css" rel="stylesheet">
  <link href="css/kendo.global.min.css" rel="stylesheet">
  <link href="css/ckeditor.pontogov.css" rel="stylesheet">
  <link rel="stylesheet" href="js/prettyPhoto/css/prettyPhoto.css" type="text/css" media="screen" />
  <link href="js/rs-plugin/css/settings.css" rel="stylesheet">
  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/themes/redmond/jquery-ui.css">


  <script src="js/libJquery.js" charset="ISO-8859-1"></script>
  <script src="js/jszip.min.js" charset="ISO-8859-1"></script>
  <script src="js/kendo.all.min.js" charset="ISO-8859-1"></script>
  <script src="js/kendo.messages.pt-BR.min.js" charset="ISO-8859-1"></script>
  <script src="js/kendo.masked.date.picker.js" charset="ISO-8859-1"></script>
  <script src="js/kendo.culture.pt-BR.min.js" charset="ISO-8859-1"></script>
  <script src="js/pako_deflate.min.js" charset="ISO-8859-1"></script>
  <script src="js/libPgFilter.js" charset="ISO-8859-1"></script>

  <script src="js/fusion/fusioncharts.js"></script>
  <script src="js/fusion/themes/fusioncharts.theme.fint.js"></script>

  <script src="js/libUtils.js" charset="ISO-8859-1"></script>
  <script src="js/libFrontbox.js" charset="ISO-8859-1"></script>
  <script src="js/kendo.timezones.min.js" charset="ISO-8859-1"></script>
  <script src="js/ckeditor/ckeditor.js"></script>
  <script src="js/jquery-ui.js"></script>
  <script src="js/multiple-select.js"></script>
  <script src="js/prettyPhoto/js/jquery.prettyPhoto.js" type="text/javascript"></script>
  <script src="js/rs-plugin/js/jquery.themepunch.tools.min.js"></script>
  <script src="js/rs-plugin/js/jquery.themepunch.revolution.min.js"></script>
  <script src="js/mascara.js" type="text/javascript"></script>
  <script src="js/jquery.mask.js" charset="ISO-8859-1"></script>

<style>
  .k-splitbar .k-resize-handle{
    background: none;
    width: 0;
    height:0 ;
  }
</style>

</head>

<script>
  $(function () {
    $("#BarAcoes").kendoToolBar({
      items: [
        {
          type:"spacer",
        },
        {
          type: "buttonGroup",
          buttons: [
            { 
              text: "Incluir", 
              id: "BtnIncluir",
              click: function(){ 
                $("#WinConsultaProduto").data("kendoWindow").open();
                $("#WinConsultaProduto #id").val("");
                $("#WinConsultaProduto #nome").val("");
                $("#WinConsultaProduto #categoria").data("kendoDropDownList").value("");
                $("#WinConsultaProduto #preco").data("kendoNumericTextBox").value("");
                $("#WinConsultaProduto #dataCadastro").val("");
                $("#WinConsultaProduto #FlgAtivo").prop("checked",false)

              } 
            },            
            { 
              text: "Editar",
              id:"BtnEditar",
              enable: false,
              click: function(){
                $("#WinConsultaProduto").data("kendoWindow").open();
                let GrdConsultaProduto = $("#GrdConsultaProduto").data("kendoGrid");
                let rstGrid = GrdConsultaProduto.dataItem(GrdConsultaProduto.select());
                $("#WinConsultaProduto #id").val(rstGrid.id);
                $("#WinConsultaProduto #nome").val(rstGrid.nome);
                $("#WinConsultaProduto #categoria").data("kendoDropDownList").value(rstGrid.categoria);
                $("#WinConsultaProduto #preco").data("kendoNumericTextBox").value(rstGrid.preco);
                $("#WinConsultaProduto #dataCadastro").val(rstGrid.dataCadastro);
                $("#WinConsultaProduto #FlgAtivo").prop("checked", rstGrid.ativo == "Sim");
              } 
            },
          ]
        }
      ]  
    });

    $("#GrdConsultaProduto").kendoGrid({
      columns: [
        {
          field:"id",
          title:"ID",
          width:"80px"
        },
        {
          field:"nome", 
          title: "Nome",
        },
        {
          field:"categoria",
          title:"Categoria",
        },
        {
          field:"preco",
          title:"Preço",
          width:"100px",
        },
        {
          field:"dataCadastro",
          title:"Data de Cadastro",
          width:"150px",
        },
        {
          field:"ativo",
          title:"Ativo",
          width:"100px"
        }
      ], 
      dataSource: [ {id:"1", nome: "Bolacha Parati", categoria:"Bolacha", preco:"3.00", ativo:"Sim", dataCadastro: "30/05/2025" }, {id:"2", nome: "Bolacha Panco", categoria:"Bolacha", preco:"2.25", ativo:"Sim", dataCadastro: "30/05/2025"}],
      selectable: "row",
      change:function(){
        let GrdConsultaProduto = $("#GrdConsultaProduto").data("kendoGrid");
        let item = GrdConsultaProduto.dataItem(GrdConsultaProduto.select())
        $("#tabStripConsultaProduto #id").val(item.id);
        $("#tabStripConsultaProduto #nome").val(item.nome);
        $("#tabStripConsultaProduto #categoria").val(item.categoria);
        $("#tabStripConsultaProduto #preco").val(item.preco);
        $("#tabStripConsultaProduto #dataCadastro").val(item.dataCadastro);
        $("#BarAcoes").data("kendoToolBar").enable("#BtnEditar");
      }
    });

    $("#WinConsultaProduto").kendoWindow({
      width: 800,
      visible: false,
      title: "Cadastro de Produtos",
      maxWidth:800,
      maxHeight: 200,
      position:{
        top: 140,
        left: "20%"
      }

    });

    $("#BarAcoesWin").kendoToolBar({
      items:[
        {
        type:"spacer",
        },
        {
          type:"buttonGroup",
          buttons:[
            {
              text:"Gravar",
              id:"BtnGravar",
              click: function(){
                $("#GrdConsultaProduto").data("kendoGrid").dataSource.add({
                  id:$("#GrdConsultaProduto").data("kendoGrid").dataSource.data().length +1,
                  nome:$("#WinConsultaProduto #nome").val(),
                  categoria:$("#WinConsultaProduto #categoria").data("kendoDropDownList").value(),
                  preco:$("#WinConsultaProduto #preco").val(),
                  dataCadastro:$("#WinConsultaProduto #dataCadastro").val(),
                  ativo: $("#WinConsultaProduto #FlgAtivo").is(":checked") ? "Sim" : "Não"
                })
              }
            },
            {
              text:"Excluir",
              id:"BtnExcluir",
              click: function(){
                let GrdConsultaProduto = $("#GrdConsultaProduto").data("kendoGrid");
                let item = GrdConsultaProduto.dataItem(GrdConsultaProduto.select());
                $("#GrdConsultaProduto").data("kendoGrid").dataSource.remove(item);
                $("#GrdConsultaProduto").dataSource.read()
              }
            },
            {
              text:"Limpar",
              id:"BtnLimpar",
              click: function(){
                $("#WinConsultaProduto").data("kendoWindow").open();
                $("#WinConsultaProduto #id").val("");
                $("#WinConsultaProduto #nome").val("");
                $("#WinConsultaProduto #categoria").data("kendoDropDownList").value("");
                $("#WinConsultaProduto #preco").data("kendoNumericTextBox").value("");
                $("#WinConsultaProduto #dataCadastro").val("");
                $("#WinConsultaProduto #FlgAtivo").prop("checked",false)
              }
            },
            {
              text:"Fechar",
              id:"BtnFechar",
              click: function(){
                $("#WinConsultaProduto").data("kendoWindow").close()
              }
            }
          ]
        }
      ]
    })
    $("#WinConsultaProduto #categoria").kendoDropDownList({
      dataSource:[
        {name:""},
        {name:"Bolacha"},
        {name:"Café"},
        {name:"Trigo"}
      ],
      dataTextField:"name",
      dataValueField: "name",
    });

    $("#WinConsultaProduto #preco").kendoNumericTextBox({
      decimals: 2,
      restrictDecimals: true,
    })

    $("#WinConsultaProduto #dataCadastro").kendoDatePicker({
      dateInput: true,
      format: "dd/MM/yyyy"
    })

    $("#tabStripConsultaProduto").kendoTabStrip()

    $("#splConsulta").kendoSplitter({
      orientation:"vertical",
      panes:[{min:"25px"}, {min:"100px"}, {}],
    })
  

  });

</script>

<body>
  <div id="splConsulta" style="height: 100%;">
    <div id="splHeader">
      <div id="BarAcoes"></div> 
    </div>
    
    <div id="splMiddle">
      <div id="GrdConsultaProduto"></div>
    </div>
    
    <div id="splFooter">
      <div id="tabStripConsultaProduto">
        <ul>
          <li class="k-state-active">Detalhes</li>
        </ul>
        <div id="infosDetalhes">
          <table>
            <td style="text-align: right; width: 118px;">
                  ID:
                </td>
                <td>
                  <input id="id" type="text" class="k-textbox k-input-disabled" style="width: 80px;">
                </td>
          </table>
          <table width="100%" cellpadding="0" cellspancing="2" role="presentation">
              <tr>
                <td style="text-align: right; width: 120px;">
                  Nome:
                </td>
                <td>
                  <input type="text" id="nome" class="k-textbox k-input-disabled" style="width: 600px;">
                </td>
              </tr>
            </table>
            <table width="100%" cellpadding="0" cellspancing="2" role="presentation">
              <tr>
                <td style="text-align: right; width: 120px;">
                  Categoria:
                </td>
                <td>
                  <input id="categoria" style="width: 600px;" class="k-textbox k-input-disabled" >
                </td>
              </tr>
            </table>
            <table width="100%" cellpadding="0" cellspancing="2" role="presentation">
              <tr>
                <td style="text-align: right; width: 120px;">
                  Preço: 
                </td>
                <td style="width: 315px;">
                  <input id="preco" class="k-input-disabled k-textbox">
                </td>
                <td style="text-align: right; width: 150px;">
                  Data de Cadastro:
                </td>
                <td>
                  <input id="dataCadastro" class="k-input-disabled k-textbox">
                </td>
              </tr>
            </table>
        </div>
      </div>
    </div>
  </div>
  
  <div id="WinConsultaProduto" style="display: flex; justify-content: center;align-items: center;">
    <div id="form" class="k-form" style="width: 100%;">
      <form>
        <table width="100%" cellpadding="0" cellspancing="2" role="presentation">
          <tr>
            <td style="text-align: right; width: 120px;">
              ID:
            </td>
            <td>
              <input id="id" type="text" class="k-textbox k-input-disabled" style="width: 80px;">
            </td>
          </tr>
        </table>
        <table width="100%" cellpadding="0" cellspancing="2" role="presentation">
          <tr>
            <td style="text-align: right; width: 120px;">
              Nome:
            </td>
            <td>
              <input type="text" id="nome" class="k-textbox" style="width: 600px;">
            </td>
          </tr>
        </table>
        <table width="100%" cellpadding="0" cellspancing="2" role="presentation">
          <tr>
            <td style="text-align: right; width: 120px;">
              Categoria:
            </td>
            <td>
              <input id="categoria" style="width: 600px;">
            </td>
          </tr>
        </table>
        <table width="100%" cellpadding="0" cellspancing="2" role="presentation">
          <tr>
            <td style="text-align: right; width: 120px;">
               Preço: 
            </td>
            <td>
              <input id="preco">
            </td>
            <td style="text-align: right; width: 273px;">
              Data de Cadastro:
            </td>
            <td>
              <input id="dataCadastro">
            </td>
          </tr>
        </table>
        <table width="100%" cellpadding="0" cellspancing="2" role="presentation">
          <tr>
            <td>
              <input id="FlgAtivo" type="checkbox" style="margin-left: 120px;" class="k-checkbox">
              <label for="FlgAtivo" class="k-checkbox-label">Ativo</label>
            </td>
          </tr>
        </table>
        <div id="BarAcoesWin"></div>
      </form>
    </div>
  </div>
</body>

</html>